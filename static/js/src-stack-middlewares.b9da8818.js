(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"./src/stack-middlewares.mdx":function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return u});var n=a("../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),r=a("../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=a("../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),o=a("../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),l=a("../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),m=a("../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),p=a("../../node_modules/react/index.js"),c=a.n(p),d=a("../../node_modules/@mdx-js/tag/dist/index.js"),u=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).layout=null,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.components;Object(n.a)(e,["components"]);return c.a.createElement(d.MDXTag,{name:"wrapper",components:t},c.a.createElement(d.MDXTag,{name:"h1",components:t,props:{id:"stack-middlewares-together"}},"stack middlewares together"),c.a.createElement(d.MDXTag,{name:"p",components:t},"middlewares get called in the order that they are registered with ",c.a.createElement(d.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"app.use(...)"),".\nwhen a middleware calls ",c.a.createElement(d.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"next()"),", koa calls the next middleware downsteam if are any available."),c.a.createElement(d.MDXTag,{name:"blockquote",components:t},c.a.createElement(d.MDXTag,{name:"p",components:t,parentName:"blockquote"},'the middleware "stack"')),c.a.createElement(d.MDXTag,{name:"pre",components:t},c.a.createElement(d.MDXTag,{name:"code",components:t,parentName:"pre",props:{className:"language-typescript"}},"// serial-middlewares/server.ts\nconst requestCounter: Middleware = async (ctx, next) => {\n  ++ctx.serialExample.requestCount\n  console.log(`request #${ctx.serialExample.requestCount}\\n`)\n  await next()\n}\n// ...\n  app.context.serialExample = { requestCount: 0 }\n  app.use(loggerMiddleware) // see prior example\n  app.use(requestCounter)\n\n// $ curl localhost:3000\n//   before\n//   request #1\n//   after\n// $ curl localhost:3000\n//   before\n//   request #2\n//   after\n")))}}]),t}(c.a.Component);"undefined"!==typeof u&&u&&u===Object(u)&&Object.defineProperty(u,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"src/stack-middlewares.mdx"}}),"undefined"!==typeof u&&u&&u===Object(u)&&Object.defineProperty(u,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"src/stack-middlewares.mdx"}}),u.isMDXComponent=!0}}]);
//# sourceMappingURL=src-stack-middlewares.ad1c1451b82f83e13e39.js.map